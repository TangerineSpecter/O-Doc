# O-Doc æ¥å£æ–‡æ¡£

æœ¬æ–‡æ¡£æè¿°äº†O-Docé¡¹ç›®çš„APIæ¥å£è§„èŒƒï¼ŒåŒ…æ‹¬æ¥å£åˆ—è¡¨ã€è¯·æ±‚å‚æ•°ã€å“åº”æ ¼å¼ç­‰ä¿¡æ¯ã€‚

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

- æ¥å£åŸºç¡€URLï¼š`http://localhost:11800/api/v1`
- è¯·æ±‚æ–¹å¼ï¼šæ”¯æŒGETã€POSTã€PUTã€DELETEç­‰HTTPæ–¹æ³•
- å“åº”æ ¼å¼ï¼šç»Ÿä¸€è¿”å›JSONæ ¼å¼æ•°æ®
- è®¤è¯æ–¹å¼ï¼šJWT Tokenè®¤è¯ï¼ˆå¾…å®ç°ï¼‰

## ğŸ› ï¸ æ¥å£åˆ†ç±»

### 1. ç”¨æˆ·ç®¡ç†æ¥å£

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| ç”¨æˆ·æ³¨å†Œ | POST | /user/register | ç”¨æˆ·æ³¨å†Œæ–°è´¦å· | å¾…å®ç° |
| ç”¨æˆ·ç™»å½• | POST | /user/login | ç”¨æˆ·ç™»å½•ç³»ç»Ÿ | å¾…å®ç° |
| è·å–ç”¨æˆ·ä¿¡æ¯ | GET | /user/info | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ | å¾…å®ç° |
| æ›´æ–°ç”¨æˆ·ä¿¡æ¯ | PUT | /user/info | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ | å¾…å®ç° |

### 2. æ–‡ç« ç®¡ç†æ¥å£

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| åˆ›å»ºæ–‡ç«  | POST | /article | åˆ›å»ºæ–°æ–‡ç«  | å¾…å®ç° |
| è·å–æ–‡ç« åˆ—è¡¨ | GET | /article/list | è·å–æ–‡ç« åˆ—è¡¨ | å¾…å®ç° |
| è·å–æ–‡ç« è¯¦æƒ… | GET | /article/:id | è·å–æ–‡ç« è¯¦æƒ… | å¾…å®ç° |
| æ›´æ–°æ–‡ç«  | PUT | /article/:id | æ›´æ–°æ–‡ç« å†…å®¹ | å¾…å®ç° |
| åˆ é™¤æ–‡ç«  | DELETE | /article/:id | åˆ é™¤æ–‡ç«  | å¾…å®ç° |

### 3. åˆ†ç±»ç®¡ç†æ¥å£

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| åˆ›å»ºåˆ†ç±» | POST | /api/category/create | åˆ›å»ºæ–°åˆ†ç±» | å·²å®ç° |
| è·å–åˆ†ç±»åˆ—è¡¨ | GET | /api/category/list | è·å–åˆ†ç±»åˆ—è¡¨ | å·²å®ç° |
| è·å–åˆ†ç±»è¯¦æƒ… | GET | /api/category/detail/:category_id | è·å–åˆ†ç±»è¯¦æƒ… | å·²å®ç° |
| æ›´æ–°åˆ†ç±» | PUT | /api/category/update/:category_id | æ›´æ–°åˆ†ç±»ä¿¡æ¯ | å·²å®ç° |
| åˆ é™¤åˆ†ç±» | DELETE | /api/category/delete/:category_id | åˆ é™¤åˆ†ç±» | å·²å®ç° |
| åˆ†ç±»æ’åº | PUT | /api/category/:category_id/sort | æ›´æ–°åˆ†ç±»æ’åº | å·²å®ç° |
| è·å–åˆ†ç±»ä¸‹æ–‡ç« åˆ—è¡¨ | GET | /api/category/:category_id/articles | è·å–åˆ†ç±»ä¸‹çš„æ–‡ç« åˆ—è¡¨ | å·²å®ç° |

#### 3.1 åˆ›å»ºåˆ†ç±»æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/category/create`
**è¯·æ±‚æ–¹å¼**ï¼šPOST
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "name": "åˆ†ç±»åç§°",
  "description": "åˆ†ç±»æè¿°"
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| name | string | æ˜¯ | åˆ†ç±»åç§°ï¼Œæœ€é•¿10ä¸ªå­—ç¬¦ |
| description | string | å¦ | åˆ†ç±»æè¿°ï¼Œæœ€é•¿100ä¸ªå­—ç¬¦ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "category_id": "cat_1234567890",
    "name": "åˆ†ç±»åç§°",
    "description": "åˆ†ç±»æè¿°",
    "userid": "admin",
    "is_valid": true,
    "sort": 0,
    "created_at": "2025-01-01T00:00:00Z",
    "updated_at": "2025-01-01T00:00:00Z"
  }
}
```

#### 3.2 è·å–åˆ†ç±»åˆ—è¡¨æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/category/list`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "category_id": "cat_1234567890",
      "name": "æŠ€æœ¯æ–‡æ¡£",
      "description": "æŠ€æœ¯ç›¸å…³æ–‡æ¡£",
      "userid": "admin",
      "is_valid": true,
      "sort": 0,
      "created_at": "2025-01-01T00:00:00Z",
      "updated_at": "2025-01-01T00:00:00Z"
    },
    {
      "category_id": "cat_0987654321",
      "name": "äº§å“éœ€æ±‚",
      "description": "äº§å“éœ€æ±‚æ–‡æ¡£",
      "userid": "admin",
      "is_valid": true,
      "sort": 1,
      "created_at": "2025-01-02T00:00:00Z",
      "updated_at": "2025-01-02T00:00:00Z"
    }
  ]
}
```

**å­—æ®µè¯´æ˜**ï¼š
| å­—æ®µå | ç±»å‹ | æè¿° |
|-------|------|------|
| category_id | string | åˆ†ç±»å”¯ä¸€æ ‡è¯† |
| name | string | åˆ†ç±»åç§° |
| description | string | åˆ†ç±»æè¿° |
| userid | string | åˆ›å»ºè€…ID |
| is_valid | boolean | æ˜¯å¦æœ‰æ•ˆ |
| sort | integer | æ’åºåºå· |
| created_at | string | åˆ›å»ºæ—¶é—´ |
| updated_at | string | æ›´æ–°æ—¶é—´ |

#### 3.3 è·å–åˆ†ç±»è¯¦æƒ…æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/category/detail/:category_id`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "category_id": "cat_1234567890",
    "name": "æŠ€æœ¯æ–‡æ¡£",
    "description": "æŠ€æœ¯ç›¸å…³æ–‡æ¡£",
    "userid": "admin",
    "is_valid": true,
    "sort": 0,
    "created_at": "2025-01-01T00:00:00Z",
    "updated_at": "2025-01-01T00:00:00Z"
  }
}
```

#### 3.4 åˆ†ç±»æ’åºæ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/category/:category_id/sort`
**è¯·æ±‚æ–¹å¼**ï¼šPUT
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "sort": 2
}
```

**è¯·æ±‚å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| sort | integer | æ˜¯ | æ’åºä½ç½®ï¼ˆ0è¡¨ç¤ºç¬¬ä¸€ä½ï¼Œ1è¡¨ç¤ºç¬¬äºŒä½ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "æ’åºæˆåŠŸ",
  "data": null
}
```

#### 3.5 æ›´æ–°åˆ†ç±»æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/category/update/:category_id`
**è¯·æ±‚æ–¹å¼**ï¼šPUT
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "name": "æ›´æ–°åçš„åˆ†ç±»åç§°",
  "description": "æ›´æ–°åçš„åˆ†ç±»æè¿°"
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| name | string | å¦ | åˆ†ç±»åç§°ï¼Œæœ€é•¿10ä¸ªå­—ç¬¦ |
| description | string | å¦ | åˆ†ç±»æè¿°ï¼Œæœ€é•¿100ä¸ªå­—ç¬¦ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "category_id": "cat_1234567890",
    "name": "æ›´æ–°åçš„åˆ†ç±»åç§°",
    "description": "æ›´æ–°åçš„åˆ†ç±»æè¿°",
    "userid": "admin",
    "is_valid": true,
    "sort": 0,
    "created_at": "2025-01-01T00:00:00Z",
    "updated_at": "2025-01-03T00:00:00Z"
  }
}
```

#### 3.6 åˆ é™¤åˆ†ç±»æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/category/delete/:category_id`
**è¯·æ±‚æ–¹å¼**ï¼šDELETE
**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null
}
```

**æ³¨æ„**ï¼š
- è¯¥æ¥å£æ‰§è¡Œçš„æ˜¯é€»è¾‘åˆ é™¤ï¼Œå°†åˆ†ç±»çš„is_validå­—æ®µè®¾ç½®ä¸ºfalse
- åˆ é™¤åï¼Œè¯¥åˆ†ç±»å°†ä¸å†å‡ºç°åœ¨åˆ—è¡¨æ¥å£ä¸­

#### 3.7 è·å–åˆ†ç±»ä¸‹æ–‡ç« åˆ—è¡¨æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/category/:category_id/articles`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**è¯·æ±‚å‚æ•°**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| page | integer | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| page_size | integer | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤20 |
| unclassified | boolean | å¦ | æ˜¯å¦è·å–æœªåˆ†ç±»æ–‡ç« ï¼ˆtrue/falseï¼‰ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "count": 100,
    "next": "http://localhost:11800/api/category/cat_1234567890/articles?page=2&page_size=20",
    "previous": null,
    "results": [
      {
        "article_id": "art_001",
        "title": "æœåŠ¡å™¨ç¯å¢ƒä¾èµ–æ£€æŸ¥æ¸…å•",
        "coll_id": "coll_1234567890",
        "parent": null,
        "category": "cat_1234567890",
        "tags": ["tag_001", "tag_002"],
        "sort": 0,
        "is_valid": true,
        "created_at": "2025-01-01T00:00:00Z",
        "updated_at": "2025-01-01T00:00:00Z"
      },
      {
        "article_id": "art_002",
        "title": "Docker Compose ä¸€é”®éƒ¨ç½²",
        "coll_id": "coll_1234567890",
        "parent": null,
        "category": "cat_1234567890",
        "tags": ["tag_001"],
        "sort": 1,
        "is_valid": true,
        "created_at": "2025-01-02T00:00:00Z",
        "updated_at": "2025-01-02T00:00:00Z"
      }
    ]
  }
}
```

**æ³¨æ„**ï¼š
- å½“unclassifiedå‚æ•°ä¸ºtrueæ—¶ï¼Œcategory_idå¯ä»¥ä¸ºä»»æ„å€¼ï¼Œæ¥å£å°†è¿”å›æ‰€æœ‰æœªåˆ†ç±»çš„æ–‡ç« 
- è¯¥æ¥å£æ”¯æŒåˆ†é¡µï¼Œé»˜è®¤æ¯é¡µ20æ¡è®°å½•

### 4. æ ‡ç­¾ç®¡ç†æ¥å£

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| åˆ›å»ºæ ‡ç­¾ | POST | /api/tag/create | åˆ›å»ºæ–°æ ‡ç­¾ | å·²å®ç° |
| è·å–æ ‡ç­¾è¯¦æƒ… | GET | /api/tag/detail/:tag_id | è·å–æ ‡ç­¾è¯¦æƒ… | å·²å®ç° |
| è·å–æ ‡ç­¾åˆ—è¡¨ | GET | /api/tag/list | è·å–æ ‡ç­¾åˆ—è¡¨ | å·²å®ç° |
| æ ‡ç­¾æ’åº | PUT | /api/tag/:tag_id/sort | æ›´æ–°æ ‡ç­¾æ’åº | å·²å®ç° |
| æ›´æ–°æ ‡ç­¾ | PUT | /api/tag/update/:tag_id | æ›´æ–°æ ‡ç­¾ä¿¡æ¯ | å·²å®ç° |
| åˆ é™¤æ ‡ç­¾ | DELETE | /api/tag/delete/:tag_id | åˆ é™¤æ ‡ç­¾ | å·²å®ç° |
| è·å–æ ‡ç­¾ä¸‹æ–‡ç«  | GET | /api/tag/articles | è·å–æŒ‡å®šæ ‡ç­¾æˆ–å…¨éƒ¨æ ‡ç­¾ä¸‹çš„æ–‡ç«  | å·²å®ç° |

#### 4.1 åˆ›å»ºæ ‡ç­¾æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/tag/create`
**è¯·æ±‚æ–¹å¼**ï¼šPOST
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "name": "æ ‡ç­¾åç§°",
  "description": "æ ‡ç­¾æè¿°"
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| name | string | æ˜¯ | æ ‡ç­¾åç§°ï¼Œæœ€é•¿30ä¸ªå­—ç¬¦ |
| description | string | å¦ | æ ‡ç­¾æè¿°ï¼Œæœ€é•¿100ä¸ªå­—ç¬¦ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "æ ‡ç­¾åˆ›å»ºæˆåŠŸ",
  "data": {
    "tag_id": "tag_001",
    "name": "æ ‡ç­¾åç§°",
    "description": "æ ‡ç­¾æè¿°",
    "sort": 1,
    "created_at": "2025-01-16T10:30:00Z",
    "updated_at": "2025-01-16T10:30:00Z"
  }
}
```

#### 4.2 è·å–æ ‡ç­¾è¯¦æƒ…æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/tag/detail/:tag_id`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| tag_id | string | æ˜¯ | æ ‡ç­¾ID |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "tag_id": "tag_001",
    "name": "æ ‡ç­¾åç§°",
    "description": "æ ‡ç­¾æè¿°",
    "sort": 1,
    "created_at": "2025-01-16T10:30:00Z",
    "updated_at": "2025-01-16T10:30:00Z"
  }
}
```

#### 4.3 è·å–æ ‡ç­¾åˆ—è¡¨æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/tag/list`
**è¯·æ±‚æ–¹å¼**ï¼šGET

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": [
    {
      "tag_id": "tag_001",
      "name": "æ ‡ç­¾1",
      "description": "æ ‡ç­¾æè¿°1",
      "sort": 1,
      "created_at": "2025-01-16T10:30:00Z",
      "updated_at": "2025-01-16T10:30:00Z"
    },
    {
      "tag_id": "tag_002",
      "name": "æ ‡ç­¾2",
      "description": "æ ‡ç­¾æè¿°2",
      "sort": 2,
      "created_at": "2025-01-16T10:35:00Z",
      "updated_at": "2025-01-16T10:35:00Z"
    }
  ]
}
```

#### 4.4 æ ‡ç­¾æ’åºæ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/tag/:tag_id/sort`
**è¯·æ±‚æ–¹å¼**ï¼šPUT
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "sort": 3
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| sort | integer | æ˜¯ | æ’åºå€¼ï¼Œæ•°å€¼è¶Šå¤§ï¼Œæ’åºè¶Šé å‰ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "æ’åºæˆåŠŸ",
  "data": null
}
```

#### 4.5 æ›´æ–°æ ‡ç­¾æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/tag/update/:tag_id`
**è¯·æ±‚æ–¹å¼**ï¼šPUT
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "name": "æ›´æ–°åçš„æ ‡ç­¾åç§°",
  "description": "æ›´æ–°åçš„æ ‡ç­¾æè¿°"
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| name | string | å¦ | æ ‡ç­¾åç§°ï¼Œæœ€é•¿30ä¸ªå­—ç¬¦ |
| description | string | å¦ | æ ‡ç­¾æè¿°ï¼Œæœ€é•¿100ä¸ªå­—ç¬¦ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": {
    "tag_id": "tag_001",
    "name": "æ›´æ–°åçš„æ ‡ç­¾åç§°",
    "description": "æ›´æ–°åçš„æ ‡ç­¾æè¿°",
    "sort": 1,
    "created_at": "2025-01-16T10:30:00Z",
    "updated_at": "2025-01-16T11:00:00Z"
  }
}
```

#### 4.6 åˆ é™¤æ ‡ç­¾æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/tag/delete/:tag_id`
**è¯·æ±‚æ–¹å¼**ï¼šDELETE
**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| tag_id | string | æ˜¯ | æ ‡ç­¾ID |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null
}
```

#### 4.7 è·å–æ ‡ç­¾ä¸‹æ–‡ç« æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/tag/articles`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**è¯·æ±‚å‚æ•°**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| tag_id | string | å¦ | æ ‡ç­¾IDï¼Œä¸ä¼ åˆ™è¿”å›æ‰€æœ‰æ ‡ç­¾ä¸‹çš„æ–‡ç«  |
| page_size | integer | å¦ | æ¯é¡µæ–‡ç« æ•°é‡ï¼Œé»˜è®¤20æ¡ï¼Œæœ€å¤§100æ¡ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "count": 100,
    "next": "http://example.com/api/tag/articles?page=2&page_size=20",
    "previous": null,
    "results": [
      {
        "id": 1,
        "title": "æ–‡ç« æ ‡é¢˜",
        "content": "æ–‡ç« å†…å®¹",
        "created_at": "2025-01-16T10:30:00Z",
        "updated_at": "2025-01-16T10:30:00Z",
        "tags": [
          {
            "tag_id": "tag_001",
            "name": "æ ‡ç­¾1"
          }
        ]
      }
    ]
  }
}
```

**æ³¨æ„**ï¼š
- è¯¥æ¥å£æ”¯æŒåˆ†é¡µï¼Œé»˜è®¤æ¯é¡µ20æ¡è®°å½•

### 5. æ–‡é›†ç®¡ç†æ¥å£

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| åˆ›å»ºæ–‡é›† | POST | /api/anthology/create | åˆ›å»ºæ–°æ–‡é›† | å·²å®ç° |
| è·å–æ–‡é›†åˆ—è¡¨ | GET | /api/anthology/list | è·å–æ–‡é›†åˆ—è¡¨ | å·²å®ç° |
| è·å–æ–‡é›†è¯¦æƒ… | GET | /api/anthology/detail/:coll_id | æ ¹æ®coll_idè·å–æ–‡é›†è¯¦æƒ… | å·²å®ç° |
| æ›´æ–°æ–‡é›† | PUT | /api/anthology/update/:coll_id | æ›´æ–°æ–‡é›†ä¿¡æ¯ | å·²å®ç° |
| åˆ é™¤æ–‡é›† | DELETE | /api/anthology/delete/:coll_id | åˆ é™¤æ–‡é›† | å·²å®ç° |

#### 5.1 åˆ›å»ºæ–‡é›†æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/anthology/create`
**è¯·æ±‚æ–¹å¼**ï¼šPOST
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "title": "æ–‡é›†æ ‡é¢˜",
  "description": "æ–‡é›†æè¿°",
  "icon_id": "book",
  "permission": "public"
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| title | string | æ˜¯ | æ–‡é›†æ ‡é¢˜ï¼Œæœ€é•¿20ä¸ªå­—ç¬¦ |
| description | string | å¦ | æ–‡é›†æè¿°ï¼Œæœ€é•¿100ä¸ªå­—ç¬¦ |
| icon_id | string | æ˜¯ | å›¾æ ‡IDï¼Œç”¨äºå‰ç«¯æ˜¾ç¤ºå›¾æ ‡ |
| permission | string | æ˜¯ | è®¿é—®æƒé™ï¼Œå¯é€‰å€¼ï¼špublicï¼ˆå…¬å¼€ï¼‰ã€privateï¼ˆç§å¯†ï¼‰ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "coll_id": "coll_1234567890",
    "title": "æ–‡é›†æ ‡é¢˜",
    "description": "æ–‡é›†æè¿°",
    "icon_id": "book",
    "permission": "public",
    "is_top": false,
    "count": 0,
    "sort": 0,
    "created_at": "2025-01-01T00:00:00Z",
    "updated_at": "2025-01-01T00:00:00Z"
  }
}
```

#### 5.2 è·å–æ–‡é›†åˆ—è¡¨æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/anthology/list`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "coll_id": "coll_1234567890",
      "title": "å°æ©˜éƒ¨ç½²æŒ‡å—",
      "count": 42,
      "icon_id": "cpu",
      "isTop": true,
      "description": "å…¨é¢ä»‹ç»å°æ©˜æ–‡æ¡£ç§æœ‰åŒ–éƒ¨ç½²æ–¹æ¡ˆ",
      "articles": [
        {
          "article_id": "art_001",
          "title": "æœåŠ¡å™¨ç¯å¢ƒä¾èµ–æ£€æŸ¥æ¸…å•",
          "date": "11-24"
        },
        {
          "article_id": "art_002",
          "title": "Docker Compose ä¸€é”®éƒ¨ç½²",
          "date": "11-20"
        }
      ],
      "permission": "public"
    },
    {
      "id": 2,
      "coll_id": "coll_0987654321",
      "title": "API æ¥å£å¼€å‘æ‰‹å†Œ",
      "count": 128,
      "icon_id": "zap",
      "isTop": true,
      "description": "åç«¯æ¥å£å®šä¹‰ã€é‰´æƒæœºåˆ¶åŠé”™è¯¯ç å­—å…¸æŸ¥è¯¢",
      "articles": [
        {
          "article_id": "art_003",
          "title": "è®¤è¯é‰´æƒï¼šAccess Token è·å–",
          "date": "12-01"
        }
      ],
      "permission": "public"
    }
  ]
}
```

**å­—æ®µè¯´æ˜**ï¼š
| å­—æ®µå | ç±»å‹ | æè¿° |
|-------|------|------|
| id | number | æ–‡é›†æ•°æ®åº“ID |
| coll_id | string | æ–‡é›†å”¯ä¸€æ ‡è¯† |
| title | string | æ–‡é›†æ ‡é¢˜ |
| count | number | æ–‡ç« æ•°é‡ |
| icon_id | string | å›¾æ ‡ID |
| isTop | boolean | æ˜¯å¦ç½®é¡¶ |
| description | string | æ–‡é›†æè¿° |
| articles | array | æ–‡ç« æ‘˜è¦åˆ—è¡¨ï¼Œæœ€å¤šè¿”å›å‰3ç¯‡æ–‡ç«  |
| permission | string | è®¿é—®æƒé™ |

**articlesæ•°ç»„å­—æ®µè¯´æ˜**ï¼š
| å­—æ®µå | ç±»å‹ | æè¿° |
|-------|------|------|
| article_id | string | æ–‡ç« å”¯ä¸€æ ‡è¯† |
| title | string | æ–‡ç« æ ‡é¢˜ |
| date | string | æ›´æ–°æ—¥æœŸï¼Œæ ¼å¼ï¼šMM-DD |

#### 5.3 è·å–æ–‡é›†è¯¦æƒ…æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/anthology/detail/:coll_id`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "coll_id": "coll_1234567890",
    "title": "å°æ©˜éƒ¨ç½²æŒ‡å—",
    "description": "å…¨é¢ä»‹ç»å°æ©˜æ–‡æ¡£ç§æœ‰åŒ–éƒ¨ç½²æ–¹æ¡ˆ",
    "icon_id": "cpu",
    "userid": "admin",
    "permission": "public",
    "is_top": true,
    "count": 42,
    "sort": 0,
    "created_at": "2025-01-01T00:00:00Z",
    "updated_at": "2025-01-01T00:00:00Z"
  }
}
```

#### 5.4 æ–‡é›†æ’åºæ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/anthology/:coll_id/sort`
**è¯·æ±‚æ–¹å¼**ï¼šPUT
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "sort": 2
}
```

**è¯·æ±‚å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| sort | integer | æ˜¯ | æ’åºä½ç½®ï¼ˆå¤§äº0çš„æ•´æ•°ï¼Œ1è¡¨ç¤ºç¬¬ä¸€ä½ï¼Œ2è¡¨ç¤ºç¬¬äºŒä½ï¼Œä»…å¯¹éç½®é¡¶æ–‡é›†æœ‰æ•ˆï¼‰ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "æ’åºæˆåŠŸ",
  "data": null
}
```

**é”™è¯¯å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 400,
  "message": "ç½®é¡¶æ–‡é›†ä¸å…è®¸æ’åº",
  "data": null
}
```

**æ³¨æ„**ï¼š
- ä»…å¯¹éç½®é¡¶æ–‡é›†è¿›è¡Œæ’åº
- æ’åºä½ç½®å¿…é¡»æ˜¯å¤§äº0çš„æ•´æ•°

#### 5.5 æ›´æ–°æ–‡é›†æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/anthology/update/:coll_id`
**è¯·æ±‚æ–¹å¼**ï¼šPUT
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "title": "æ›´æ–°åçš„æ–‡é›†æ ‡é¢˜",
  "description": "æ›´æ–°åçš„æ–‡é›†æè¿°",
  "icon_id": "update-icon",
  "permission": "private",
  "is_top": true
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| title | string | å¦ | æ–‡é›†æ ‡é¢˜ï¼Œæœ€é•¿20ä¸ªå­—ç¬¦ |
| description | string | å¦ | æ–‡é›†æè¿°ï¼Œæœ€é•¿100ä¸ªå­—ç¬¦ |
| icon_id | string | å¦ | å›¾æ ‡IDï¼Œç”¨äºå‰ç«¯æ˜¾ç¤ºå›¾æ ‡ |
| permission | string | å¦ | è®¿é—®æƒé™ï¼Œå¯é€‰å€¼ï¼špublicï¼ˆå…¬å¼€ï¼‰ã€privateï¼ˆç§å¯†ï¼‰ |
| is_top | boolean | å¦ | æ˜¯å¦ç½®é¡¶ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "coll_id": "coll_1234567890",
    "title": "æ›´æ–°åçš„æ–‡é›†æ ‡é¢˜",
    "description": "æ›´æ–°åçš„æ–‡é›†æè¿°",
    "icon_id": "update-icon",
    "userid": "admin",
    "permission": "private",
    "is_top": true,
    "count": 0,
    "created_at": "2025-01-01T00:00:00Z",
    "updated_at": "2025-01-02T00:00:00Z"
  }
}
```

#### 5.6 åˆ é™¤æ–‡é›†æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/anthology/delete/:coll_id`
**è¯·æ±‚æ–¹å¼**ï¼šDELETE
**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null
}
```

**æ³¨æ„**ï¼š
- è¯¥æ¥å£æ‰§è¡Œçš„æ˜¯é€»è¾‘åˆ é™¤ï¼Œå°†æ–‡é›†çš„is_validå­—æ®µè®¾ç½®ä¸ºfalse
- åˆ é™¤åï¼Œè¯¥æ–‡é›†å°†ä¸å†å‡ºç°åœ¨åˆ—è¡¨æ¥å£ä¸­

### 6. èµ„æºç®¡ç†æ¥å£

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| è·å–èµ„æºåˆ—è¡¨ | GET | /api/resources/list | è·å–èµ„æºåˆ—è¡¨ | å·²å®ç° |
| åˆ›å»ºèµ„æº | POST | /api/resources/create | åˆ›å»ºæ–°èµ„æº | å·²å®ç° |
| æ›´æ–°èµ„æº | PUT | /api/resources/:id | æ›´æ–°èµ„æºä¿¡æ¯ | å·²å®ç° |
| åˆ é™¤èµ„æº | DELETE | /api/resources/:id | åˆ é™¤èµ„æº | å·²å®ç° |
| ä¸‹è½½èµ„æº | GET | /api/resources/download/:id | ä¸‹è½½èµ„æº | å·²å®ç° |

#### 6.1 è·å–èµ„æºåˆ—è¡¨æ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/resources/list`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**è¯·æ±‚å‚æ•°**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| page | integer | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| pageSize | integer | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤24 |
| type | string | å¦ | èµ„æºç±»å‹ï¼ˆdoc/image/video/audio/code/archive/designï¼‰ |
| linked | boolean | å¦ | æ˜¯å¦å·²å…³è”ï¼ˆtrue/falseï¼‰ |
| keyword | string | å¦ | æœç´¢å…³é”®è¯ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "data": [
      {
        "id": "res_1234567890",
        "name": "éœ€æ±‚è¯´æ˜ä¹¦_v1.pdf",
        "type": "doc",
        "size": "2.5 MB",
        "date": "11-24",
        "linked": true,
        "sourceArticle": {
          "id": "art_001",
          "title": "æœåŠ¡å™¨ç¯å¢ƒä¾èµ–æ£€æŸ¥æ¸…å•"
        }
      }
    ],
    "total": 100
  }
}
```

#### 6.2 åˆ›å»ºèµ„æºæ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/resources/create`
**è¯·æ±‚æ–¹å¼**ï¼šPOST
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "name": "éœ€æ±‚è¯´æ˜ä¹¦_v1.pdf",
  "type": "doc",
  "size": "2.5 MB",
  "date": "11-24",
  "linked": false,
  "sourceArticle": null
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| name | string | æ˜¯ | èµ„æºåç§° |
| type | string | æ˜¯ | èµ„æºç±»å‹ |
| size | string | æ˜¯ | èµ„æºå¤§å° |
| date | string | æ˜¯ | åˆ›å»ºæ—¥æœŸ |
| linked | boolean | æ˜¯ | æ˜¯å¦å·²å…³è” |
| sourceArticle | object | å¦ | å…³è”çš„æ–‡ç« ä¿¡æ¯ |

#### 6.3 æ›´æ–°èµ„æºæ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/resources/:id`
**è¯·æ±‚æ–¹å¼**ï¼šPUT
**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "name": "éœ€æ±‚è¯´æ˜ä¹¦_v2.pdf",
  "linked": true,
  "sourceArticle": {
    "id": "art_001",
    "title": "æœåŠ¡å™¨ç¯å¢ƒä¾èµ–æ£€æŸ¥æ¸…å•"
  }
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| name | string | å¦ | èµ„æºåç§° |
| type | string | å¦ | èµ„æºç±»å‹ |
| size | string | å¦ | èµ„æºå¤§å° |
| date | string | å¦ | åˆ›å»ºæ—¥æœŸ |
| linked | boolean | å¦ | æ˜¯å¦å·²å…³è” |
| sourceArticle | object | å¦ | å…³è”çš„æ–‡ç« ä¿¡æ¯ |

#### 6.4 åˆ é™¤èµ„æºæ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/resources/:id`
**è¯·æ±‚æ–¹å¼**ï¼šDELETE
**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 200,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": null
}
```

#### 6.5 ä¸‹è½½èµ„æºæ¥å£
**è¯·æ±‚è·¯å¾„**ï¼š`/api/resources/download/:id`
**è¯·æ±‚æ–¹å¼**ï¼šGET
**å“åº”**ï¼šè¿”å›æ–‡ä»¶æµ

### 7. ç»Ÿè®¡æ¥å£

| æ¥å£åç§° | è¯·æ±‚æ–¹å¼ | æ¥å£è·¯å¾„ | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| è·å–ç³»ç»Ÿç»Ÿè®¡ | GET | /stats/system | è·å–ç³»ç»Ÿç»Ÿè®¡æ•°æ® | å¾…å®ç° |
| è·å–æ–‡ç« ç»Ÿè®¡ | GET | /stats/article | è·å–æ–‡ç« ç»Ÿè®¡æ•°æ® | å¾…å®ç° |

## ğŸ“Š å“åº”æ ¼å¼

### æˆåŠŸå“åº”æ ¼å¼
```json
{
  "code": 200,
  "message": "success",
  "data": {
    // å…·ä½“æ¥å£è¿”å›æ•°æ®
  }
}
```

### é”™è¯¯å“åº”æ ¼å¼
```json
{
  "code": é”™è¯¯ç ,
  "message": "é”™è¯¯ä¿¡æ¯",
  "data": null
}
```

## ğŸ“ é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | é”™è¯¯ä¿¡æ¯ | è¯´æ˜ |
|-------|---------|------|
| 200 | success | è¯·æ±‚æˆåŠŸ |
| 400 | Bad Request | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | Unauthorized | æœªæˆæƒè®¿é—® |
| 403 | Forbidden | ç¦æ­¢è®¿é—® |
| 404 | Not Found | è¯·æ±‚èµ„æºä¸å­˜åœ¨ |
| 500 | Internal Server Error | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |
| 501 | Not Implemented | æ¥å£æœªå®ç° |

## ğŸš€ è®¤è¯æ–¹å¼

### JWT Tokenè®¤è¯ï¼ˆå¾…å®ç°ï¼‰

1. ç”¨æˆ·ç™»å½•æˆåŠŸåè·å–Token
2. åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ Authorizationå­—æ®µï¼š`Authorization: Bearer {token}`
3. Tokenæœ‰æ•ˆæœŸï¼š7å¤©

## ğŸ“Œ å¼€å‘è®¡åˆ’

- [ ] å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] å¼€å‘æ–‡ç« ç®¡ç†æ¥å£
- [ ] å¼€å‘åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†æ¥å£
- [ ] å®ç°æ–‡é›†ç®¡ç†åŠŸèƒ½
- [ ] å¼€å‘èµ„æºä¸Šä¼ åŠŸèƒ½
- [ ] æ·»åŠ ç»Ÿè®¡æ¥å£

## ğŸ“… æ›´æ–°æ—¥å¿—

- 2025-01-16ï¼šæ›´æ–°æ ‡ç­¾ç®¡ç†æ¥å£æ–‡æ¡£ï¼Œå°†çŠ¶æ€ä»"å¾…å®ç°"æ”¹ä¸º"å·²å®ç°"ï¼Œæ·»åŠ æ‰€æœ‰æ ‡ç­¾æ¥å£çš„è¯¦ç»†è¯´æ˜ï¼ŒåŒ…æ‹¬åˆ›å»ºæ ‡ç­¾ã€è·å–æ ‡ç­¾åˆ—è¡¨ã€è·å–æ ‡ç­¾è¯¦æƒ…ã€æ ‡ç­¾æ’åºã€æ›´æ–°æ ‡ç­¾ã€åˆ é™¤æ ‡ç­¾ä»¥åŠè·å–æ ‡ç­¾ä¸‹æ–‡ç« åˆ—è¡¨æ¥å£
- 2025-01-15ï¼šè¯¦ç»†æ›´æ–°æ–‡é›†ç®¡ç†æ¥å£æ–‡æ¡£ï¼ŒåŒ…æ‹¬åˆ›å»ºæ–‡é›†ã€è·å–æ–‡é›†åˆ—è¡¨å’Œè·å–æ–‡é›†è¯¦æƒ…æ¥å£çš„å®Œæ•´ä¿¡æ¯ï¼Œä¿®æ­£æ¥å£è·¯å¾„ä¸ºå®é™…éƒ¨ç½²è·¯å¾„
- 2025-01-16ï¼šæ›´æ–°åˆ†ç±»ç®¡ç†æ¥å£æ–‡æ¡£ï¼Œå°†çŠ¶æ€ä»"å¾…å®ç°"æ”¹ä¸º"å·²å®ç°"ï¼Œæ·»åŠ æ‰€æœ‰åˆ†ç±»æ¥å£çš„è¯¦ç»†è¯´æ˜ï¼ŒåŒ…æ‹¬åˆ›å»ºåˆ†ç±»ã€è·å–åˆ†ç±»åˆ—è¡¨ã€è·å–åˆ†ç±»è¯¦æƒ…ã€åˆ†ç±»æ’åºã€æ›´æ–°åˆ†ç±»ã€åˆ é™¤åˆ†ç±»ä»¥åŠè·å–åˆ†ç±»ä¸‹æ–‡ç« åˆ—è¡¨æ¥å£
- 2025-XX-XXï¼šåˆå§‹åŒ–æ¥å£æ–‡æ¡£ç»“æ„
